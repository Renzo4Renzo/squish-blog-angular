<app-slider [sliderTitle]="formSliderText" [size]="sliderSize"></app-slider>

<div class="content_div">
  <section id="form">
    <h1 class="form_title">Formulario de Contacto</h1>

    <form class="mid_form" *ngIf="!isSaving" #contactForm="ngForm" (ngSubmit)="onSubmit()">
      <div class="form_group">
        <label for="name">Nombres</label>
        <input
          type="text"
          name="name"
          #name="ngModel"
          [(ngModel)]="person.name"
          required
          pattern="^[a-zA-ZÀ-ÿ\u00f1\u00d1][a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$"
          autocomplete="off"
        />
        <small *ngIf="!name.valid && name.touched">¡El nombre ingresado no es válido!</small>
      </div>
      <div class="form_group">
        <label for="email">Correo Electrónico</label>
        <input
          type="text"
          name="email"
          #email="ngModel"
          [(ngModel)]="person.email"
          required
          pattern='^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'
          autocomplete="off"
        />
        <small *ngIf="!email.valid && email.touched">¡El correo ingresado no es válido!</small>
      </div>
      <div class="form_group">
        <label for="gender">Género</label>
        <div class="radiobuttons">
          <div class="radiobutton_group">
            <input type="radio" name="gender" value="male" #gender="ngModel" [(ngModel)]="person.gender" required />
            <span>Masculino</span>
          </div>
          <div class="radiobutton_group">
            <input type="radio" name="gender" value="female" #gender="ngModel" [(ngModel)]="person.gender" />
            <span>Femenino</span>
          </div>
          <div class="radiobutton_group">
            <input type="radio" name="gender" value="other" #gender="ngModel" [(ngModel)]="person.gender" />
            <span>Otro</span>
          </div>
          <small *ngIf="!gender.valid && gender.touched">¡El género ingresado no es válido!</small>
        </div>
      </div>
      <div class="form_group">
        <label for="question">Pregunta</label>
        <select name="question" #question="ngModel" [(ngModel)]="person.question">
          <option value="" disabled>Selecciona una pregunta...</option>
          <option value="1">¿Quiénes pueden escribir artículos?</option>
          <option value="2">¿De qué temas puedo escribir artículos?</option>
          <option value="3">¿Cúanto tiempo debo esperar para que aprueben mi artículo?</option>
          <option value="4">¿Cuántos artículos puedo publicar?</option>
        </select>
        <small *ngIf="question.value == '' && question.touched">¡No has seleccionado ninguna pregunta!</small>
      </div>
      <div class="form_group">
        <label for="description">Descripción</label>
        <textarea name="description" #description="ngModel" [(ngModel)]="person.description" required></textarea>
        <small *ngIf="!description.valid && description.touched">¡La descripción no es válida!</small>
      </div>

      <input
        type="submit"
        value="Enviar"
        class="btn btn_success"
        [ngClass]="contactForm.valid && question.value != '' ? 'btn_success' : 'btn_disabled'"
        [disabled]="contactForm.invalid"
      />
    </form>

    <div class="loading-article" *ngIf="isSaving">
      <img class="loading-article-icon" src="assets/images/loading.gif" width="80px" alt="Cargando" />
      <p class="loading-article-text">Enviando formulario...</p>
    </div>
    <!-- <h2>Eventos de Prueba</h2>
    <button (click)="isClicked()">¡Dale click!</button>
    <input type="text" [(ngModel)]="testText" (blur)="isLeft()" (keyup.enter)="isEnterPressed()" /> {{ testText }} -->
  </section>

  <app-sidebar id="sidebar"></app-sidebar>
</div>
